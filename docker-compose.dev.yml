version: "3.1"
services:
    frontend:
      command: development
      env_file: .env.development
      volumes:
        - ./frontend:/app
        - /app/node_modules
      ports:
        - "${FRONTEND}:3000"

    backend:
      env_file: .env.development
      command: python main.py
      volumes:
        - ./backend:/app
        - /dev:/dev
      ports:
        - "${BACKEND}:${SERVER_PORT}"
    
    wswebcam_0:
      env_file: .env.development
      volumes:
        - /dev:/dev
      ports:
        - "${WEBCAM_0}:${SERVER_PORT}"
    
    marlin_0:
      env_file: .env.development
      volumes:
        - /dev:/dev
      ports:
        - "${MARLIN_0}:${SERVER_PORT}"
    
    mongo:
      env_file: .env.development
      volumes:
        - ./mongodb:/data/db
      ports:
        - "${MONGO}:27017"

    redis:
      env_file: .env.development
      ports:
        - "${REDIS}:6379"