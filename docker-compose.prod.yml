version: "3.1"
services:
    frontend:
      command: production
      env_file: .env.production
      ports:
        - "${FRONTEND}:3000"

    backend:
      env_file: .env.production
      command: python main.py
      ports:
        - "${BACKEND}:5200"
    
    wswebcam_0:
      env_file: .env.production
      volumes:
        - /dev:/dev
      ports:
        - "${WEBCAM_0}:8050"
    
    marlin_0:
      env_file: .env.production
      volumes:
        - /dev:/dev
      ports:
        - "${MARLIN_0}:8010"
    
    mongo:
      env_file: .env.production
      volumes:
        - ./mongodb:/data/db
      ports:
        - "${MONGO}:27017"
